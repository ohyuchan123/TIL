# AWS 소개
"Amazon Web Services(AWS)는 전 세계적으로 분포한 데이터 센터에서 200개가 넘는 완벽한 기능의 서비스를 제공하는, 세계적으로 가장 포괄적이며, 널리 채택되고 있는 콜라우드 플랫폼입니다."

## AWS 구조
> AWS는 크게 AWS Service가 있고</br>
> 여러개의 리전으로 나눠저 있다.</br>
> 예 : 리전(서울),리전(도쿄),리전(호주)..등등 그리고 그 리전안에는 가용영역으로 나눠져 있다

**Aws Cloud Service**
- IAM
- Amazon CloudFront
- 리전
    - VPC
    - S3
    - 가용영역
        - A : RDS
        - B : EC2

## 리전이란
- AWS가 전 세계에서 데이터 센터를 클러스터링하는 물리적 위치
- 전 세계에 흩어져 이씅며 큰 구분(동남아, 유럽,북아메리카 등등)으로 묶여 있음
- 각 리전에는 고유의 코드가 부여됨
    - 예시 : 서울 리전은 ap-northeast-2
    - 예시2 : 미국 동부(버니지아 북부)리전은 us-east-1
- 리전별로 가능한 서비스가 다름
</br>
</br>

- 리전을 선택할 때 고려할 점
    - 지연 속도
    - 법률(데이터,서비스 제공 관련)
    - 사용 가능한 AWS 서비스

**가용영역(Availability Zone)**
`데이터 센터 건물`
- 리전의 하부 단위
    - 하나의 리전은 반드시 2개 이상의 가용영역으로 구성
- 하나이상의 데이터 센터로 구성
- 리전간의 연결은 매우 빠른 전용 네트워크로 연결
- 반드시 물리적으로 일정 거리(몇 KM 이상)떨어져 있음
    - 다만 모든 AZ는 서로 100km 이내의 거리에 위치
    - 여러 재해에 대한 대비 및 보안
- 각 계정별로 AZ의 코드와 실제 위치는 다름
    - 예 : 계정 Test1의 AZ-A는 계정 Test2의 AZ-A와 다른 위치(랜덤)
    - 보안 및 한 AZ로 몰림을 방지

**엣지 로케이션**
- AWS의 CloudFront(CDN)등의 여러 서비스들을 가장 빠른 속도로 제공(캐싱)하기 위한 거점
- 전 세계에 여러 장소에 흩어져 있음

위 내용을 읽다보면 클러스터링이라는 단어가 나온다 과연 클러스터링이란 무엇일까?

## 🤔클러스터링에 대해서 공부해보자
### 클러스터링이란❓
1. 여러개의 컴퓨터를 연결할 병령 시스템을 말한다.

    여러대의 컴퓨터를 서로 연결하여 마치 하나의 컴퓨터처럼 사용하는 것을 클러스터라고 합니다. 서로 통신이 가능하며 업무를 분담해서 수행하게 됩니다.
</br>

2. 클러스터에는 그 목적에 따라 몇 가지 종류가 있습니다.
</br>
</br>

🅰️ 베어울프클러스터
> 다수의 컴퓨터가 하나의 프로그램을 협동하여 수행하여 고성능의 계산능력을 낼 수 있습니다.  
> 기존 슈퍼컴퓨터 보다 가격대 성능비가 우수하다는 장점이 있습니다.

</br>

🅱️ 부하분산 클러스터
> 대규모 서비스(web,ftp,DataBase...)를 제공하기위한 클러스터로써 서비스를 요청받으면 자신이 그 요청을 처리하지 않고
> 클러스터내의 다른(한가한)컴퓨터에게 서비스를 제공하도록 함으로써 대규모서비스를 제공해줄수 있습니다.

</br>

🆑 고가용성 클러스터
> 클러스터는 여러대의 컴퓨터를 가지고 있으며 그중한 일부가 fail 됬을 때 이를 극복하기 위함이 그 목적입니다.  
> 이를 위해서 서로가 서로를 수시로 체크하게되며 고장난 컴퓨터를 클러스터에서 동적으로 제거하고 해당 컴퓨터가 수행하던 특정 작업을 다른 컴퓨터가 대신수행해주기도 합니다. 또한 다시 클러스터로 합류할 수 있습니다.

3. 클러스터의 장점은 크게 두가지 입니다.

    클러스터의 빼놓을수 없는 첫째 가격대 성능비입니다.  
    하나의 컴퓨터에서는 성능을 향상을 위한 비용은 기하급수적으로 증가합니다. 그러나 클러스터에서는 상대적으로 serial하게 증가합니다.  
    그리고 얼마나 시러얼하게 구성할 수 있는지도 클러스터를 구성하는데 중요한 문제입니다.

    두 번째 장점은 확장성입니다. 🔊
    도립된 컴퓨터에서 업그레이드를 하려면 거의 모든 것을 교환해야 합니다. 그러나 클러스터에서는 새로운 컴퓨터를 클러스터에 추가하는 것만으로 성능이 증가하게 됩니다.

4. 클러스터는 물론 단점도 있습니다.  
    중요한 단점은 관리의 어려움입니다. 컴퓨터가 여러대로 이루어졌기 때문에 프로그램 설치나 설정 변경 파일 업로드 데이터변경 모니터링 등은 모든 컴퓨터에서 이루어져야 합니다.  
    주로 베어울프 클러스터에서는 NFS마운트를 통해서 이를 해결하고 있지만 이것은 네트워크의 부하를 증가시켜서 확장성의 제한을 가져오게 됩니다. 이런 문제를 해결하기 위해 클러스터를 위한 관리툴이 많이 나오고 있습니다.  
    또한 다수의 컴퓨터 중에서 고장날 확률은 매우 높으며, 실제로 대규모 클러스터에서는 H/W 또는 S/W의 fail로 인한 문제가 많이 보고 되고 있습니다.

## 글로벌 서비스와 리전 서비스
- AWS에는 서비스가 제공되는 지역의 기반에 따라 글로벌 서비스와 리전 서비스로 분류
- 글로벌 서비스 : 데이터 및 서비스를 전 세계의 모든 인프라가 공유
    - CLoudFront
    - IAM
    - Route53
    - WAF
- 지역 서비스 : 특정 리전을 기반으로 데이터 및 서비스를 제공
    - 대부분의 서비스
    - S3
        - S3의 경우 전 세계에서 동일하게 사용할 수 있으나 데이터 자체는 리전에 종속 : 리전 서비스

## ARN
> Amazon 리소스 이름(ARN)은 AWS 리소스를 고유하게 시별합니다.  
> IAM 정책, Amanzon Relational Database Service(RDS) 태그 및 API 호출과 같은 모든 AWS에서 리소스를 명료하게 지정해야 하는 경우 ARN이 필요합니다.

### ARN 형식
다음은 ARN의 일반적인 형식입니다. 구체적인 형식은 리소스에 따라 다릅니다.  
ARN을 사용하려면 *기울림꼴* 텍스트를 리소스별 정보로 바꿉니다.  
일부 리소스의 ARN에서는 리전, 계정 ID 또는 리전과 계정 ID가 모두 생략됩니다.

```
arn:partition:service:region:account-id:resource-id
arn:partition:service:region:account-id:resource-type/resource-id
arn:partition:service:region:account-id:resource-type:resource-id
```

<span style="color:#FF0000">partition</span>  

    리소스가 있는 파티션입니다. 파티션은 AWS 리전의 그룹입니다.
    각 AWS 계정은 하나의 파티션으로 범위가 지정됩니다.

    지원되는 파티션은 다음과 같습니다.

- `aws` - AWS 리전
- `aws-cn` - 중국 리전
- `aws-us-gov` - AWS GovCloud(US)리전

<span style="color:#FF0000">service</span>  
    AWS 제품을 식별하는 서비스 네임스페이스입니다.

<span style="color:#FF0000">region</span>  
    리전 코드. 예를 들어 미국 동부(오하이오)의 경우 us-east-2입니다.  
    리전 코드 목록은 AWS 일반 참조의 <a href="#">리전 엔드포인트</a>를 참조하세요.

<span style="color:#FF0000">account-id</span>  
    리소스를 소유한 AWS 계정의 ID(하이폰 없음)입니다.  
    예 : 123456789012.

<span style="color:#FF0000">resource-type</span>  
    리소스 유형입니다. Virtual Private Cloud(VPC)의 vpc를 예로 들 수 있습니다.

<span style="color:#FF0000">resource-id</span>  
    리소스 식별자입니다. 리소스의 이름, 리소스의 ID 또는 리소스  경로입니다. 일부 리소스 식별자에는 상위 리소스(sub-resource-type/  parent-resource/sub-resource) 또는 버전과 같은 식별자(resource-type:resource-name:qualifier)를 포함할 수 있습니다.  


